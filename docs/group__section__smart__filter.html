<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Leave Script Behind Document: The Smart Filtering in ListView</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Leave Script Behind Document<span id="projectnumber">&#160;Release Candidate 0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">The Smart Filtering in ListView</div></div>
</div><!--header-->
<div class="contents">
<p>The <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a> control in LSB supports powerful client filtering through the embedded filter input control on the top. The filtering feature can be turned on/off through the <b>visible</b> attribute in the <b>filter</b> node (see the <a class="el" href="class_list_view_filter.html" title="This node defines the filter setting for ListView.">ListViewFilter</a>) in the <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a> definition. Here we will only discuss the features when the filter feature is turned on in the <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a>, and how we can use the feature to quickly find item(s) in the <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a>.</p>
<h2><a class="anchor" id="autotoc_md38"></a>
Column based Filter</h2>
<p>A filter is typically specified in the format of <code>column_name:filter_value</code>. Both the column name and the filter value could have double quotes wrapped. The double quotes are required only if there are one or more spaces contained in the column name or the filter value. If column name is not specified in a filter, then this filter value will be tested against all columns available in the <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a>.</p>
<p>Here are some examples of the column based filter, </p><ul>
<li>
<code>ABC:123</code> is a valid column based filter. Here the <code>ABC</code> is the column name and <code>123</code> is the filter value. This filter means that for all items in a <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a>, only if the column ABC contains value <code>123</code>, an item is considered matched and will be visible in the <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a>. Items that have other columns contain value <code>123</code> but value in column <code>ABC</code> does not contain <code>123</code> are not recognized as matched item, and they will be invisible as long as the filter is applied. </li>
<li>
<code>"AB C":"\d+A\d+"</code> is also a valid column based filter. Here the <code>"AB C"</code> is the column name and the <code>"\d+A\d+"</code> is the filter value. The double quotes in the column name are necessary as there is a space inside the column name. Meanwhile the double quotes in the filter value are optional. Besides, here the filter value is a regular expression. The LSB will use this regular expression pattern to test the values in columns to see if an item matches this filter. </li>
<li>
<p class="startli"><code>A B C:invalid</code> is a bit tricky. It looks like that double quotes are missing for the column name. Thus the value cannot be parsed as a valid column based filter in the form of <code>column_name:filter_value</code>. In this case, the whole string will be used as filter value as if the column name is missing. And as the filter value is not a valid regular expression, the LSB will then do simple string match test and all columns will be tested.</p>
<p class="endli"></p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md39"></a>
Filter Value</h2>
<p>The LSB first tries to parse the filter value that user types in as a regular expression pattern, and then uses the created regular expression pattern to match test the values in corresponding column(s). If the specified filter value cannot be parsed as a regular expression, then the whole filter value will be used to do simple string match test. For example, </p><ul>
<li>
The value <code>A\d+B\d*</code> is a valid regular expression pattern, if the corresponding column contains values like A1B, A22B1, then the item is recognized as matched item. </li>
<li>
The value <code>*\ABCD</code> cannot be parsed as regular expression, thus the string value is used to do simple match. Only if the corresponding column value contains <code>*\ABCD</code>, then the item will be considered as matched item. </li>
</ul>
<p>As explained above, the filter value could be double quotes wrapped if the value contains space(s). The double quotes used to wrap the filter value won't be used as part of the pattern or string match. If there is no space in the filter value, then the double quote is unnecessary. If there is space in the filter value and we don't use quotes to wrap the value, it could be recognized as multiple filters. The only case that we may skip double quotes with space(s) in the input is that we want to use the whole input to do simple string match test.</p>
<h2><a class="anchor" id="autotoc_md40"></a>
Combination of Column based Filters with Operators</h2>
<p>We can put multiple column based filters together to create more complicated filters. For example, with <code>A:1 AND B:2 AND C:3</code> we setup a new filter that requires column A to contain value 1, column B to contain value 2 and column C to contain value 3. If and only if all three conditions are all met, an item in the <a class="el" href="class_list_view.html" title="This ListView is a data view control that uses the commonly used list view control to display data in...">ListView</a> is considered as matched item. The operators supported to connect the filters are, </p><ul>
<li>
<b>AND</b>, upper case only. It means that the left filter and the right filter both need to be matched to declare an item matches the combined filter. The <code>&amp;&amp;</code> is another form of this operator. </li>
<li>
<b>OR</b>, upper case only. It means that as long as one of the left filter and the right filter is matched, then the item is declared as matched. The <code>||</code> is another form of this operator. </li>
<li>
<b>NOT</b>, upper case only. This is the not operator. When this operator is present, it means that the filter next to it must be unmatched to make the combined filter matched. For example, <code>NOT A:1</code> means that only if the value in column A does not contain value 1, then the item is recognized as matched item. The <code>!</code> is another form of this operator. </li>
</ul>
<h2><a class="anchor" id="autotoc_md41"></a>
Grouping of Filters</h2>
<p>When the column based filters are connected through operators, it could become difficult to figure the result of the filter when there are multiple operators used together. For example, what does this filter mean?</p>
<p><code>A:1 AND B:2 OR A:3</code></p>
<p>Does it have the same meaning as <code>A:3 OR B:2 AND A:1</code>? The answer is no. It takes time to figure out the actual meaning of these filters and realize that they are different.</p>
<p>To make the combined filters more clear and easy to read, we may use brackets to group the filters. Anything inside a pair of brackets will be treated like one filter when they are connected with other filters. For exmaples above, if we rewrite them as below,</p>
<p><code>A:1 AND (B:2 OR A:3)</code><br  />
 <code>(A:3 OR B:2) AND A:1</code></p>
<p>It becomes very easy to know that they have the same meanings, despite the actual symantic meanings of the filters. </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
